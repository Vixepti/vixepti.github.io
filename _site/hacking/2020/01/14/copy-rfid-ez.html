<!DOCTYPE html>
<html lang=" en "><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tuto - Copier un badge RFID - Mifare Classic 1K | Vixepti</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Tuto - Copier un badge RFID - Mifare Classic 1K" />
<meta name="author" content="Vixepti" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Dans cet article, on va voir la procédure pour copier un badge RFID Mifare Classic 1K (badge d’entrée d’immeuble, machines à café…)." />
<meta property="og:description" content="Dans cet article, on va voir la procédure pour copier un badge RFID Mifare Classic 1K (badge d’entrée d’immeuble, machines à café…)." />
<link rel="canonical" href="http://localhost:4000/hacking/2020/01/14/copy-rfid-ez.html" />
<meta property="og:url" content="http://localhost:4000/hacking/2020/01/14/copy-rfid-ez.html" />
<meta property="og:site_name" content="Vixepti" />
<meta property="og:image" content="http://localhost:4000/assets/2020/01/copy-mifare-thumbnail.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-14T02:07:42+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/2020/01/copy-mifare-thumbnail.jpg" />
<meta property="twitter:title" content="Tuto - Copier un badge RFID - Mifare Classic 1K" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Vixepti"},"dateModified":"2020-01-14T02:07:42+01:00","datePublished":"2020-01-14T02:07:42+01:00","description":"Dans cet article, on va voir la procédure pour copier un badge RFID Mifare Classic 1K (badge d’entrée d’immeuble, machines à café…).","headline":"Tuto - Copier un badge RFID - Mifare Classic 1K","image":"http://localhost:4000/assets/2020/01/copy-mifare-thumbnail.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/hacking/2020/01/14/copy-rfid-ez.html"},"url":"http://localhost:4000/hacking/2020/01/14/copy-rfid-ez.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Vixepti" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Vixepti</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">À propos</a><a class="page-link" href="/categories/">Catégories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Tuto - Copier un badge RFID - Mifare Classic 1K</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-01-14T02:07:42+01:00" itemprop="datePublished">Jan 14, 2020
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Vixepti</span></span></p>
      <hr>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Dans cet article, on va voir la procédure pour copier un badge RFID Mifare Classic 1K (badge d’entrée d’immeuble, machines à café…).<!--more--> Le but est de reproduire simplement et rapidement un badge. Ce n’est pas de comprendre comment fonctionne le hack ou le système RFID. Pour ça je ferai certainement un article ou une série d’articles plus tard.</p>

<h2 id="kali-linux">Kali Linux</h2>
<p>Dans un premier temps, il va falloir avoir une distribution linux à disposition. Pour cela, je recommande d’utiliser un Live Kali Linux qui comprends déjà les logiciels que l’on va utiliser.</p>

<p style="text-align: center;"><a href="/assets/logos/kali-linux-logo-200x118.png"><img src="/assets/logos/kali-linux-logo-200x118.png" alt="Résultat commande powershell" /></a></p>

<p>!!!Important : Pas de machine virtuel. Ça ne fonctionnera certainement pas à cause des I/O USB - VM trop lentes.</p>

<h2 id="lecteur-rfid">Lecteur RFID</h2>
<p>J’utilise personnellement le lecteur ACR122U. Pour les autres je n’ai jamais regardé comment ça se passe.</p>

<p style="text-align: center;"><a href="https://www.banggood.com/NFC-ACR122U-RFID-Contactless-Smart-Reader-WriterUSB-SDK-Mifare-IC-Card-p-1268520.html?rmmds=search&amp;cur_warehouse=CN"><img src="/assets/2020/01/ACR122U.jpg" alt="Résultat commande powershell" /></a></p>

<ul>
  <li>Désactiver les modules pn533_usb et pn533 :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">modprobe -r pn533_usb
modprobe -r pn533</span></code></pre></figure>

<ul>
  <li>Vérification du fonctionnement, je place le badge à copier sur le lecteur.</li>
  <li>La commande suivante doit renvoyer des informations sur le badge :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">nfc-list	</span></code></pre></figure>

<h2 id="copie-dun-badge">Copie d’un badge</h2>
<ul>
  <li>Je place la carte vierge sur le lecteur.</li>
  <li>Dump de la carte vierge dans un fichier appelé <em>blank-card.dmp</em> :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">mfoc -P 500 -O blank-card.dmp	</span></code></pre></figure>

<ul>
  <li>Je place le badge à copier sur le lecteur.</li>
  <li>Dump du badge dans le fichier <em>badge.dmp</em> :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">mfoc -P 500 -O badge.dmp	</span></code></pre></figure>

<ul>
  <li>Parfois l’opération ne fonctionne pas. Ici, j’obtiens :</li>
</ul>

<blockquote>
  <p>“No sector encrypted with the default key has been found, exiting..”</p>
</blockquote>

<ul>
  <li>Je dois donc utiliser <strong>mfcuck</strong> :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">mfcuk -C -R 0 -s 250 -S 250 -v 3 -o vigik.dmp</span></code></pre></figure>

<ul>
  <li>L’opération à pris, dans mon cas, 30 minutes. À la fin j’obtiens un tableau avec la clé A et B (ici identique) sur le secteur 0 :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">ACTION RESULTS MATRIX AFTER RECOVER - UID 1c df 0b 5c - TYPE 0x08 (MC1K)
---------------------------------------------------------------------
Sector	|    Key A	|ACTS | RESL	|    Key B	|ACTS | RESL
---------------------------------------------------------------------
0	|  8829da9daf76	| . R | . R	|  8829da9daf76	| . R | . R
1	|  000000000000	| . . | . .	|  000000000000	| . . | . .
2	|  000000000000	| . . | . .	|  000000000000	| . . | . .
3	|  000000000000	| . . | . .	|  000000000000	| . . | . .
4	|  000000000000	| . . | . .	|  000000000000	| . . | . .
5	|  000000000000	| . . | . .	|  000000000000	| . . | . .
6	|  000000000000	| . . | . .	|  000000000000	| . . | . .
7	|  000000000000	| . . | . .	|  000000000000	| . . | . .
8	|  000000000000	| . . | . .	|  000000000000	| . . | . .
9	|  000000000000	| . . | . .	|  000000000000	| . . | . .
10	|  000000000000	| . . | . .	|  000000000000	| . . | . .
11	|  000000000000	| . . | . .	|  000000000000	| . . | . .
12	|  000000000000	| . . | . .	|  000000000000	| . . | . .
13	|  000000000000	| . . | . .	|  000000000000	| . . | . .
14	|  000000000000	| . . | . .	|  000000000000	| . . | . .
15	|  000000000000	| . . | . .	|  000000000000	| . . | . .</span></code></pre></figure>

<ul>
  <li>Je peux donc dumper le badge dans un fichier <em>badge.dmp</em> :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">mfoc -P 500 -k 0123456789AB -O badge.dmp</span></code></pre></figure>

<ul>
  <li>Une fois terminé, je replace le badge vierge sur le lecteur et je copie le dump sur ce dernier :</li>
</ul>

<figure class="highlight"><pre><code class="language-shell_session" data-lang="shell_session"><span class="go">nfc-mfclassic W a badge.dmp blank-card.dmp</span></code></pre></figure>


  </div>

  
    <hr><br>
    <span>Tags :</span>
    <div class="tags">
      <ul>
        
          <li><span class="tag">RFID</span></li>    
        
          <li><span class="tag">NFC</span></li>    
        
          <li><span class="tag">mifare</span></li>    
        
          <li><span class="tag">mfoc</span></li>    
        
          <li><span class="tag">mfcuck</span></li>    
        
          <li><span class="tag">nfc-tools</span></li>    
        
      </ul>
    </div>
  <a class="u-url" href="/hacking/2020/01/14/copy-rfid-ez.html" hidden></a>

  
</article>

        </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Vixepti</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Vixepti</li><li><a class="u-email" href="mailto:contact@vixepti.fr">contact@vixepti.fr</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vixepti"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vixepti</span></a></li><li><a href="https://www.twitter.com/vixepti"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vixepti</span></a></li><li><a href="https://youtube.com/vixepti"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg> <span class="username">vixepti</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Administration systèmes et réseaux, Sécurité informatique, Hacking, Bricolage et autres joyeusetés...</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>